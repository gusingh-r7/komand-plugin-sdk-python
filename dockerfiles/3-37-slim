FROM python:3.7.2-alpine3.9

LABEL organization=komand
LABEL sdk=python
LABEL type=plugin

ENV SSL_CERT_FILE /etc/ssl/certs/ca-certificates.crt
ENV SSL_CERT_DIR /etc/ssl/certs
ENV REQUESTS_CA_BUNDLE  /etc/ssl/certs/ca-certificates.crt

ADD ./ /usr/src/komand
WORKDIR /usr/src/komand

# No `make` being included, so run the python command
RUN apk add --no-cache openssl==1.1.1b-r1 && \
	python setup.py install